(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[7],{177:function(t,e,s){"use strict";s(1);var a=s(189),o=(s(182),s(0));e.a=function(t){var e=t.imageUrl,s=t.className;return Object(o.jsx)(a.a,{small:e,large:e,hideDownload:"true",hideZoom:"true",className:s})}},180:function(t,e,s){"use strict";var a=s(2),o=s(21),n=s(11),r=s(1),c=s(14),i=s(38),l=s(6),d=s(13),u=s(28),j=s(23),b=s(0);e.a=function(t){var e=t.post,s=t.postData,m=t.likes,p=t.setLikes,O=t.setPostData,f=Object(r.useContext)(l.a),h=f.isLightTheme,_=f.light,g=f.dark,x=h?_:g,N=Object(r.useContext)(d.a),v=N.userData,k=N.setUserData,y=Object(r.useContext)(u.a),I=y.posts,C=y.setPostsData,w=Object(r.useContext)(j.a),S=w.userProfileData,P=w.setUserProfileData,J=Object(r.useState)(!1),D=Object(n.a)(J,2),B=D[0],A=D[1],L=Object(r.useState)(e.likeCount?e.likeCount:0),M=Object(n.a)(L,2),F=M[0],z=M[1],E=Object(c.g)(),K=v.isAuth?v.user.likes:"";Object(r.useEffect)((function(){z(e.likeCount),A(!1),v.isAuth&&v.user.likes.map((function(t){e.postId===t.postId&&A(!0)}))}),[e.likeCount,e.postId,v.isAuth,K]);return Object(b.jsxs)("div",{className:"postCard__content__line4__like",children:[B?Object(b.jsxs)("div",{className:"like__box unlike",onClick:function(t){t.stopPropagation(),v.isAuth?i.a.unlikePost(e.postId,v.token).then((function(t){z(t.data.likeCount),A(!1),I.map((function(e,s){if(e.postId===t.data.postId){var a=Object(o.a)(I);a[s]=t.data,C(a),window.sessionStorage.setItem("posts",JSON.stringify(a))}}));var n=v.user.likes.filter((function(t){return t.postId!==e.postId}));k(Object(a.a)(Object(a.a)({},v),{},{user:Object(a.a)(Object(a.a)({},v.user),{},{likes:n})})),window.sessionStorage.setItem("CacheUserData",JSON.stringify(Object(a.a)(Object(a.a)({},v),{},{user:Object(a.a)(Object(a.a)({},v.user),{},{likes:n})})));var r=JSON.parse(window.sessionStorage.getItem(t.data.postId));if(r){var c=r.postLikes.filter((function(t){return t.userName!==v.user.credentials.userName}));window.sessionStorage.setItem(t.data.postId,JSON.stringify({postContent:t.data,postComments:r.postComments,postLikes:c}))}S.user.userName===t.data.userName&&S.posts.map((function(e,s){if(e.postId===t.data.postId){var n=Object(o.a)(S.posts);n[s]=t.data,P(Object(a.a)(Object(a.a)({},S),{},{posts:n}))}}));var i,l=JSON.parse(window.sessionStorage.getItem(e.userName));l&&l.posts.map((function(s,n){if(s.postId===t.data.postId){var r=Object(o.a)(l.posts);r[n]=t.data,window.sessionStorage.setItem(e.userName,JSON.stringify(Object(a.a)(Object(a.a)({},l),{},{posts:r})))}})),s&&O(t.data),m&&(i=Object(o.a)(m).filter((function(t){return t.userName!==v.user.credentials.userName})),p(i))})).catch((function(t){console.log(t)})):E.push("/login")},children:[Object(b.jsx)("i",{className:"fas fa-heart",style:{color:x.error}}),Object(b.jsx)("div",{className:"like__background",style:{background:x.errorBackground}})]}):Object(b.jsxs)("div",{className:"like__box like",onClick:function(t){t.stopPropagation(),v.isAuth?i.a.LikePost(e.postId,v.token).then((function(t){z(t.data.likeCount),A(!0),I.map((function(e,s){if(e.postId===t.data.postId){var a=Object(o.a)(I);a[s]=t.data,C(a),window.sessionStorage.setItem("posts",JSON.stringify(a))}}));var n=v.user.likes;n.push({postId:e.postId,profilePicture:v.user.credentials.profilePicture,userName:v.user.credentials.userName}),k(Object(a.a)(Object(a.a)({},v),{},{user:Object(a.a)(Object(a.a)({},v.user),{},{likes:n})})),window.sessionStorage.setItem("CacheUserData",JSON.stringify(Object(a.a)(Object(a.a)({},v),{},{user:Object(a.a)(Object(a.a)({},v.user),{},{likes:n})})));var r=JSON.parse(window.sessionStorage.getItem(t.data.postId));r&&window.sessionStorage.setItem(t.data.postId,JSON.stringify({postContent:t.data,postComments:r.postComments,postLikes:r.postLikes.concat({postId:e.postId,profilePicture:v.user.credentials.profilePicture,userName:v.user.credentials.userName})})),S.user.userName===t.data.userName&&S.posts.map((function(e,s){if(e.postId===t.data.postId){var n=Object(o.a)(S.posts);n[s]=t.data,P(Object(a.a)(Object(a.a)({},S),{},{posts:n}))}}));var c=JSON.parse(window.sessionStorage.getItem(e.userName));if(c&&c.posts.map((function(s,n){if(s.postId===t.data.postId){var r=Object(o.a)(c.posts);r[n]=t.data,window.sessionStorage.setItem(e.userName,JSON.stringify(Object(a.a)(Object(a.a)({},c),{},{posts:r})))}})),s&&O(t.data),m){var i=Object(o.a)(m);i.unshift({postId:e.postId,profilePicture:v.user.credentials.profilePicture,userName:v.user.credentials.userName}),p(i)}})).catch((function(t){console.log(t)})):E.push("/login")},children:[Object(b.jsx)("i",{className:"fal fa-heart",style:{color:x.mobileNavIcon}}),Object(b.jsx)("div",{className:"like__background",style:{background:x.errorBackground}})]}),Object(b.jsx)("div",{className:"likesCount",style:{color:B?x.error:x.mobileNavIcon},children:0===F?"":F})]})}},181:function(t,e,s){"use strict";var a=s(1),o=s(6),n=s(28),r=s(0);e.a=function(t){var e=t.post,s=Object(a.useContext)(o.a),c=s.isLightTheme,i=s.light,l=s.dark,d=c?i:l,u=Object(a.useContext)(n.a).posts;return Object(a.useEffect)((function(){}),[u]),Object(r.jsxs)("div",{className:"postCard__content__line4__comment",children:[Object(r.jsxs)("div",{className:"comment__box",children:[Object(r.jsx)("i",{className:"fal fa-comment"}),Object(r.jsx)("div",{className:"comment__background",style:{background:d.secondaryColor}})]}),0===e.commentCount?"":e.commentCount]})}},182:function(t,e,s){},183:function(t,e,s){"use strict";var a=s(2),o=s(11),n=s(1),r=(s(184),s(112)),c=s(38),i=s(6),l=s(12),d=s(13),u=s(28),j=s(23),b=s(0);e.a=function(t){var e=t.post,s=Object(n.useContext)(i.a),m=s.isLightTheme,p=s.light,O=s.dark,f=m?p:O,h=Object(n.useContext)(l.a),_=h.isEnglish,g=h.english,x=h.german,N=_?g:x,v=Object(n.useContext)(d.a).userData,k=Object(n.useContext)(u.a),y=k.posts,I=k.setPostsData,C=Object(n.useContext)(j.a),w=C.userProfileData,S=C.setUserProfileData,P=Object(n.useState)(!1),J=Object(o.a)(P,2),D=J[0],B=J[1],A=function(){document.body.style.pointerEvents="all",B(!1)};return v.isAuth&&e.userName===v.user.credentials.userName?Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)("div",{className:"deleteIconBox",onClick:function(t){t.stopPropagation(),document.body.style.pointerEvents="none",B(!0)},children:Object(b.jsx)("i",{className:"far fa-trash-alt",style:{color:f.error}})}),Object(b.jsx)("div",{className:"background",style:{backgroundColor:f.errorBackground}}),Object(b.jsx)(r.a,{show:D,centered:"true",className:"deletePost__main__modal",children:Object(b.jsxs)(r.a.Body,{onClick:function(t){return t.stopPropagation()},style:{background:f.background},className:"deletePost__main__modal__body",children:[Object(b.jsx)("div",{style:{color:f.typoMain},className:"deletePost__main__modal__body__title",children:N.deletePostModal.title}),Object(b.jsx)("div",{className:"deletePost__main__modal__body__message",style:{color:f.typoSecondary},children:N.deletePostModal.message}),Object(b.jsxs)("div",{className:"deletePost__main__modal__body__buttonsBox",children:[Object(b.jsx)("button",{onClick:function(t){t.stopPropagation(),A()},style:{background:f.border,color:f.typoMain},children:N.deletePostModal.cancelButton}),Object(b.jsx)("button",{onClick:function(t){t.stopPropagation(),c.a.deletePost(e.postId,v.token).then((function(){var t=y.filter((function(t){return t.postId!==e.postId}));if(I(t),window.sessionStorage.setItem("posts",JSON.stringify(t)),window.sessionStorage.removeItem(e.postId),w.user.userName===v.user.credentials.userName){var s=w.posts.filter((function(t){return t.postId!==e.postId}));S(Object(a.a)(Object(a.a)({},w),{},{posts:s}))}var o=JSON.parse(window.sessionStorage.getItem(v.user.credentials.userName));if(o){var n=o.posts.filter((function(t){return t.postId!==e.postId}));window.sessionStorage.setItem(v.user.credentials.userName,JSON.stringify(Object(a.a)(Object(a.a)({},o),{},{posts:n})))}A()})).catch((function(t){console.log(t),A()}))},style:{background:f.error,color:"#fff"},children:N.deletePostModal.deleteButton})]})]})})]}):""}},184:function(t,e,s){},186:function(t,e,s){var a={"./ar":114,"./ar-ma":115,"./ar-ma.js":115,"./ar.js":114,"./bg":116,"./bg.js":116,"./br":117,"./br.js":117,"./bs":118,"./bs.js":118,"./ca":119,"./ca.js":119,"./cs":120,"./cs.js":120,"./cv":121,"./cv.js":121,"./cy":122,"./cy.js":122,"./da":123,"./da.js":123,"./de":124,"./de.js":124,"./el":125,"./el.js":125,"./en-au":126,"./en-au.js":126,"./en-ca":127,"./en-ca.js":127,"./en-gb":128,"./en-gb.js":128,"./eo":129,"./eo.js":129,"./es":130,"./es.js":130,"./et":131,"./et.js":131,"./eu":132,"./eu.js":132,"./fa":133,"./fa.js":133,"./fi":134,"./fi.js":134,"./fo":135,"./fo.js":135,"./fr":136,"./fr-ca":137,"./fr-ca.js":137,"./fr.js":136,"./gl":138,"./gl.js":138,"./he":139,"./he.js":139,"./hi":140,"./hi.js":140,"./hr":141,"./hr.js":141,"./hu":142,"./hu.js":142,"./id":143,"./id.js":143,"./is":144,"./is.js":144,"./it":145,"./it.js":145,"./ja":146,"./ja.js":146,"./ka":147,"./ka.js":147,"./ko":148,"./ko.js":148,"./lt":149,"./lt.js":149,"./lv":150,"./lv.js":150,"./ml":151,"./ml.js":151,"./mr":152,"./mr.js":152,"./ms-my":153,"./ms-my.js":153,"./nb":154,"./nb.js":154,"./ne":155,"./ne.js":155,"./nl":156,"./nl.js":156,"./nn":157,"./nn.js":157,"./pl":158,"./pl.js":158,"./pt":159,"./pt-br":160,"./pt-br.js":160,"./pt.js":159,"./ro":161,"./ro.js":161,"./ru":162,"./ru.js":162,"./sk":163,"./sk.js":163,"./sl":164,"./sl.js":164,"./sq":165,"./sq.js":165,"./sv":166,"./sv.js":166,"./th":167,"./th.js":167,"./tl-ph":168,"./tl-ph.js":168,"./tr":169,"./tr.js":169,"./tzm":170,"./tzm-la":171,"./tzm-la.js":171,"./tzm.js":170,"./uk":172,"./uk.js":172,"./uz":173,"./uz.js":173,"./vn":174,"./vn.js":174,"./zh-cn":175,"./zh-cn.js":175,"./zh-tw":176,"./zh-tw.js":176};function o(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id=186},187:function(t,e,s){"use strict";var a=s(11),o=s(1),n=(s(188),s(177),s(178)),r=s.n(n),c=s(179),i=s.n(c),l=s(6),d=s(13),u=s(183),j=s(180),b=s(181),m=s(29),p=s(0);e.a=function(t){var e=t.post,s=Object(o.useContext)(l.a),n=s.isLightTheme,c=s.light,O=s.dark,f=n?c:O,h=Object(o.useContext)(d.a).userData,_=Object(o.useState)(!1),g=Object(a.a)(_,2),x=g[0],N=g[1],v=/[\u0600-\u06FF]/,k=function(){N(!x)},y={borderBottom:"1px solid ".concat(f.border)};x&&(y.backgroundColor=n?"#F5F8FA":"#172430");var I=h.isAuth&&e.userName===h.user.credentials.userName?h.user.credentials.profilePicture:e.profilePicture;return Object(p.jsxs)("div",{className:"postCard",style:y,onMouseEnter:function(){return k()},onMouseLeave:function(){return k()},children:[Object(p.jsx)("div",{className:"postCard__userImage",children:Object(p.jsx)("div",{className:"postCard__userImage__wrapper",children:Object(p.jsx)("img",{className:"postCard__userImage__wrapper__image",src:I,alt:"profile"})})}),Object(p.jsxs)("div",{className:"postCard__content",children:[Object(p.jsxs)("div",{className:"postCard__content__line1",children:[Object(p.jsxs)("div",{className:"postCard__content__line1__box",children:[Object(p.jsx)("span",{style:{color:f.typoMain,direction:"".concat(v.test(e.userName)?"rtl":"ltr")},className:"postCard__content__line1__userName",children:Object(p.jsx)(m.a,{userName:e.userName})}),Object(p.jsx)("span",{style:{color:f.mobileNavIcon},className:"postCard__content__line1__time",children:r()(e.createdAt).twitterShort()})]}),Object(p.jsx)("div",{className:"postCard__content__line1__delete",children:Object(p.jsx)(u.a,{post:e})})]}),Object(p.jsx)("div",{className:"postCard__content__line2",style:{color:f.typoMain,textAlign:"".concat(v.test(e.postContent)?"right":"left"),direction:"".concat(v.test(e.postContent)?"rtl":"ltr")},children:Object(p.jsx)(i.a,{children:e.postContent})}),e.postImage?Object(p.jsx)("div",{className:"postCard__content__line3",style:{color:f.mobileNavIcon,border:"1px solid ".concat(f.border)},onClick:function(t){t.stopPropagation()}}):"",Object(p.jsxs)("div",{className:"postCard__content__line4",style:{color:f.mobileNavIcon},children:[Object(p.jsx)(b.a,{post:e}),Object(p.jsx)(j.a,{post:e})]})]})]})}},188:function(t,e,s){},190:function(t,e,s){},204:function(t,e,s){},225:function(t,e,s){"use strict";s.r(e);var a=s(7),o=s(11),n=s(3),r=s.n(n),c=s(1),i=s(14),l=(s(190),s(20)),d=s.n(l),u=s(38),j=s(6),b=s(12),m=s(13),p=s(28),O=s(187),f=s(26),h=s(52),_=s(53),g=(s(204),s(177),s(178),s(179),s(180),s(181),s(29),s(0));e.default=function(){var t=Object(c.useContext)(j.a),e=t.isLightTheme,s=t.light,n=t.dark,l=e?s:n,x=Object(c.useContext)(b.a),N=x.isEnglish,v=x.english,k=x.german,y=N?v:k,I=Object(c.useContext)(m.a).userData,C=Object(c.useContext)(p.a),w=C.posts,S=C.setPostsData,P=Object(c.useState)(""),J=Object(o.a)(P,2),D=J[0],B=J[1],A=Object(c.useState)(!1),L=Object(o.a)(A,2),M=L[0],F=L[1],z=Object(c.useState)(!1),E=Object(o.a)(z,2),K=E[0],U=E[1],T=Object(c.useState)({}),q=Object(o.a)(T,2),W=(q[0],q[1]),H=Object(c.useState)(!1),R=Object(o.a)(H,2),X=(R[0],R[1]),Y=Object(i.g)();document.title=y.home.pageTitle,Object(c.useEffect)((function(){var t=!0,e=JSON.parse(window.sessionStorage.getItem("posts")),s=window.sessionStorage.getItem("lastKey");if(t){var o=function(){var t=Object(a.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||0===e.length||!s){t.next=8;break}W(e[0]),X(!1),S(e),B(s),F(!1),t.next=15;break;case 8:return a=[],X(!0),t.next=12,u.a.PinnedPost().then((function(t){a.push(t.data),W(t.data),X(!1)})).catch((function(t){console.log(t),X(!1)}));case 12:return F(!0),t.next=15,u.a.postsFirstFetch().then((function(t){B(t.data.lastKey),S(a.concat(t.data.posts)),F(!1),window.sessionStorage.setItem("posts",JSON.stringify(a.concat(t.data.posts))),window.sessionStorage.setItem("lastKey",t.data.lastKey)})).catch((function(t){console.log(t),F(!1)}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o()}return function(){return t=!1}}),[S]);var Z=M?Object(g.jsx)(f.a,{}):Object(g.jsx)(c.Fragment,{children:w.map((function(t){return Object(g.jsx)("div",{onClick:function(){return e=t.postId,void Y.push("/posts/"+e);var e},children:"JXuy58xhwYWwt6JDwMI1"!==t.postId?Object(g.jsx)(O.a,{post:t}):""},t.postId)}))});return Object(g.jsxs)("div",{className:"home-box",style:{background:"".concat(l.background)},children:[Object(g.jsx)("div",{className:"home-box__title",style:{borderBottom:"1px solid ".concat(l.border),background:"".concat(l.background)},children:Object(g.jsx)("h1",{style:{color:"".concat(l.typoMain)},children:y.home.title})}),Object(g.jsxs)("div",{className:"home-box__content",children:[I.isAuth?Object(g.jsx)("div",{className:"home-box__addNewPostWrapper",style:{borderBottom:"10px solid  ".concat(l.addPostBorder)},children:Object(g.jsx)(_.a,{inputId:"staticPart",setOpen:!1})}):"",Object(g.jsx)("div",{className:"home-box__posts",children:Z}),I.isAuth&&window.screen.width<=991?Object(g.jsx)(h.a,{}):"",Object(g.jsx)("div",{className:"home-box__spinner",style:{textAlign:"center"},children:K&&!M?Object(g.jsx)(f.a,{}):D.length>0?Object(g.jsxs)("button",{className:"home-box__SettingsButton",onClick:function(){var t;(t=D).length>0&&(U(!0),u.a.postsNextFetch({lastKey:t}).then((function(t){B(t.data.lastKey),S(w.concat(t.data.posts)),U(!1),window.sessionStorage.setItem("posts",JSON.stringify(w.concat(t.data.posts))),window.sessionStorage.setItem("lastKey",t.data.lastKey)})).catch((function(t){console.log(t.response.data),U(!1)})))},style:{backgroundColor:l.mainColor,color:"#fff",borderRadius:d.a.radius},children:[Object(g.jsx)("i",{className:"fal fa-chevron-down home-box__SettingsButton__icon"}),Object(g.jsx)("span",{className:"home-box__SettingsButton__text",children:y.home.SettingsButton})]}):""}),Object(g.jsx)("div",{className:"home-box__note",style:{color:"".concat(l.typoSecondary)},children:K||0!==D.length||M?"":Object(g.jsxs)("span",{children:[y.home.bottomHint," ",Object(g.jsx)("i",{className:"fas fa-stars",style:{color:l.mainColor}})]})})]})]})}}}]);